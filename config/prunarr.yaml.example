# Prunarr Configuration
# Minimal viable config - just credentials and integrations

admin:
  username: admin
  password: changeme  # Will be auto-hashed on first run

integrations:
  jellyfin:
    enabled: true
    url: http://jellyfin:8096
    api_key: your-jellyfin-api-key-here
    
    # Symlink Libraries: Create separate Jellyfin libraries for "Leaving Soon" items
    # NOTE: Requires Docker volume mapping for symlink directories
    # symlink_library:
    #   enabled: true
    #   base_path: /symlinks              # Base directory for symlinks (MUST be writable by Prunarr)
    #   movies:
    #     library_name: "Movies - Leaving Soon"
    #     collection_type: "movies"       # Jellyfin collection type
    #   tv_shows:
    #     library_name: "TV Shows - Leaving Soon"
    #     collection_type: "tvshows"      # Jellyfin collection type
    #
    # Docker Volume Mapping Example:
    #   prunarr:
    #     volumes:
    #       - /path/on/host/symlinks:/symlinks              # Symlink directory (rw)
    #       - /path/on/host/movies:/movies:ro               # Original movies (read-only)
    #       - /path/on/host/tv:/tv:ro                       # Original TV shows (read-only)
    #   jellyfin:
    #     volumes:
    #       - /path/on/host/symlinks:/symlinks:ro           # Symlink directory (read-only)
    #       - /path/on/host/movies:/movies:ro               # Original movies (read-only)
    #       - /path/on/host/tv:/tv:ro                       # Original TV shows (read-only)
    #
    # IMPORTANT: Both containers must see the same paths for media files!
  
  radarr:
    enabled: true
    url: http://radarr:7878
    api_key: your-radarr-api-key-here
  
  sonarr:
    enabled: true
    url: http://sonarr:8989
    api_key: your-sonarr-api-key-here
  
  jellyseerr:
    enabled: false
    url: http://jellyseerr:5055
    api_key: ""
  
  jellystat:
    enabled: false
    url: http://jellystat:3000
    api_key: ""

# Optional settings with defaults (uncomment to override)
# app:
#   dry_run: true                   # Preview mode - no actual deletions (recommended for testing)
#   enable_deletion: false          # Enable automatic deletions during sync (requires dry_run: false)
#   leaving_soon_days: 14           # Show items in "Leaving Soon" window

# sync:
#   full_interval: 3600
#   incremental_interval: 900
#   auto_start: true

# rules:
#   movie_retention: 90d        # How long to keep movies (e.g., "90d", "30d", "180d")
#   tv_retention: 120d          # How long to keep TV shows (e.g., "120d", "60d", "240d")
#   # Use "never" or "0d" to disable standard retention rules entirely
#   # Useful when you only want user-based cleanup or advanced rules
#   # movie_retention: never    # Disable movie retention (only user rules apply)
#   # tv_retention: never       # Disable TV retention (only user rules apply)

# server:
#   host: 0.0.0.0
#   port: 8080

# Advanced Rules (optional) - Tag-based, episode limits, or user-based cleanup
# advanced_rules:
#   # Example 1: User-Based Cleanup
#   # Match users by EITHER user_id, username, OR email (any one is sufficient)
#   - name: Trial Users
#     type: user
#     enabled: true
#     users:
#       - user_id: 1                # Match by Jellyseerr user ID
#         retention: 30d
#       - email: guest@example.com  # Match by email address
#         retention: 7d
#         require_watched: true     # Only delete after user has watched
#       - username: trial_user      # Match by username
#         retention: 14d
#   
#   # Example 2: Tag-Based Rules (future feature)
#   # - name: Kids Content
#   #   type: tag
#   #   enabled: true
#   #   tag: kids
#   #   retention: 60d

